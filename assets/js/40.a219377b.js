(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{623:function(_,v,t){"use strict";t.r(v);var r=t(5),e=Object(r.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("hr"),_._v(" "),t("p",[_._v("title: 回流与重绘\ndate: 2022-4-10\ncategories:")]),_._v(" "),t("ul",[t("li",[_._v("JavaScript\ntags:")]),_._v(" "),t("li",[_._v("浏览器")])]),_._v(" "),t("hr"),_._v(" "),t("h2",{attrs:{id:"_1-了解浏览器的渲染机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-了解浏览器的渲染机制"}},[_._v("#")]),_._v(" 1.了解浏览器的渲染机制")]),_._v(" "),t("ol",[t("li",[_._v("浏览器采用流式布局模型： 按顺序依次排开")]),_._v(" "),t("li",[_._v("首先浏览器会将HTML解析成DOM，把CSS解析成CSSOM。把CSSOM与DOM结合产生渲染树(render tree)。")]),_._v(" "),t("li",[_._v("有 render tree之后，我们知道了节点样式，然后浏览器会计算节点的位置，然后把节点绘制到页面上")])]),_._v(" "),t("h2",{attrs:{id:"_2-回流-reflow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-回流-reflow"}},[_._v("#")]),_._v(" 2. 回流（reflow）")]),_._v(" "),t("p",[_._v("当我们render tree 中的一些元素的结构或尺寸等发生改变。"),t("br"),_._v("\n会导致回流的操作：")]),_._v(" "),t("ul",[t("li",[_._v("页面首次渲染")]),_._v(" "),t("li",[_._v("浏览器窗口发生变化")]),_._v(" "),t("li",[_._v("内容变化")]),_._v(" "),t("li",[_._v("添加或者删除节点")]),_._v(" "),t("li",[_._v("激活CSS伪类")]),_._v(" "),t("li",[_._v("等")])]),_._v(" "),t("h2",{attrs:{id:"_3-重绘-repaint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-重绘-repaint"}},[_._v("#")]),_._v(" 3. 重绘(repaint)")]),_._v(" "),t("p",[_._v("当页面中元素样式的改变不影响它在文档流中的位置，浏览器会将新样式赋予给元素，这个过程叫做重绘。"),t("br"),_._v("\n会导致重绘的操作：")]),_._v(" "),t("ul",[t("li",[_._v("background")]),_._v(" "),t("li",[_._v("visibility")]),_._v(" "),t("li",[_._v("等")])]),_._v(" "),t("h2",{attrs:{id:"_4-性能影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-性能影响"}},[_._v("#")]),_._v(" 4. 性能影响")]),_._v(" "),t("p",[_._v("回流一定会引起重绘，重绘不一定会引起回流"),t("br"),_._v("\n回流的性能消耗要比重绘大")]),_._v(" "),t("h2",{attrs:{id:"避免性能影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#避免性能影响"}},[_._v("#")]),_._v(" 避免性能影响")]),_._v(" "),t("p",[_._v("CSS：")]),_._v(" "),t("ul",[t("li",[_._v("避免使用table布局")]),_._v(" "),t("li",[_._v("避免设置多层内联样式")])]),_._v(" "),t("p",[_._v("JS：")]),_._v(" "),t("ul",[t("li",[_._v("避免频繁操作DOM")]),_._v(" "),t("li",[_._v("对于大量插入DOM的操作，建议使用文档片段，也就是documentFragment。")])])])}),[],!1,null,null,null);v.default=e.exports}}]);